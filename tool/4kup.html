<script src='//code.jquery.com/jquery-2.1.4.min.js' type='text/javascript'></script>
<script type="text/javascript">
function do_replace(e) {
  if (blogspot.checked == true){
    document.getElementById('imgsrc').value = document.getElementById('source').value.replace(/(?:[^>]*\ssrc=['\"]https\:\/\/[0-9]+\.bp\.([^'\"]*))?[^>]*?(\/?)>/gi,'$1').replace(/blogspot.com/gi,',https://lh5.ggpht.com').replace(/^\,/,'')
  }else{
    document.getElementById('imgsrc').value = document.getElementById('source').value.replace(/(?:[^>]*\ssrc=['\"]([^'\"]*))?[^>]*?(\/?)>/gi,'$1').replace(/https\:/gi,'').replace(/\/\//gi,',https://').replace(/^\,/,'').replace(/\,/gi,'\n')
  }
  }
function final_replace(f) {
    document.getElementById('finalresult').value = document.getElementById('escaped').value.replace(/(https\:\/\/[^\/]*\/[^\/]*\/[^\/]*\/[^\/]*\/[^\/]*\/)([^\/]*)(\/[^(?=\,|$)]*(?=\,|$))/,'$1s0-l1$3')
}  
  
function myFunction() {
        $('#finalresult').html("");
        $('.copycode').remove();
        //var x = $('#autoresizing').value.split(",");
        //var x = $('#autoresizing').value;
        var x = document.getElementById("imgsrc").value.split(",");
        if (document.getElementById("imgsrc").value.length){
          //$('#demo').before("<button class='copy'>Copy</button><br>");
        var i;
    for (i = 0; i < x.length; i++) {
          const img = new Image();
img.onload = function() {
   $('#finalresult').append('&lt;img src="'+img.src.replace(/[0-9]+\.bp\.blogspot.com/,"lh5.ggpht.com").replace(/\/s0-l1\//,'/s1600/')+'" class="lazy" loading="lazy" data-original-width="'+this.width+'" data-original-height="'+this.height+'" /&gt;')
}
img.src = x[i].replace(/(https\:\/\/[^\/]*\/[^\/]*\/[^\/]*\/[^\/]*\/[^\/]*\/)([^\/]*)(\/[^(?=\,|$)]*(?=\,|$))/,'$1s0-l1$3');
        }


        $(document).ready(function(){var b=$("#finalresult"),a="<button class='copycode'>Copy</button>";b.before(a)});(function(a){a.fn.selectText=function(){var e=document;var c=this[0];console.log(this,c);if(e.body.createTextRange){var b=document.body.createTextRange();b.moveToElementText(c);b.select()}else{if(window.getSelection){var d=window.getSelection();var b=document.createRange();b.selectNodeContents(c);d.removeAllRanges();d.addRange(b);document.execCommand("Copy")}}};a.fn.removeRange=function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else{if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}}else{if(document.selection){document.selection.empty()}}}})(jQuery);$(document).ready(function(){$(".copycode").click(function(){var b=$(this).parent().find("#finalresult"),a=$(this),g="Copied",f=a.text();b.selectText();a.html(g);setTimeout(function(){a.html(f);b.removeRange()},1000)})});
      }else{document.getElementById("finalresult").innerHTML="It's Empty!"}
      };
  
</script>
<h3>HTML Source:</h3>
<section class='optioncontrol'>
<div class='d-inline-block custom-control custom-switch'>
<input class='custom-control-input' id='blogspot' type='checkbox'/>
<label class='custom-control-label' for='blogspot'>Image src has [0-9].bp.blogspot.com</label>
</div>
</section>
<textarea id="source" onchange="do_replace(this)" onkeyup="do_replace(this)" placeholder="Paste your HTML code here." rows="10" style="font-family: ‘courier new’,monospace; height: 10em; width: 100%;border:1px;border-color:#ddd;border-style:solid"></textarea>
<h3>Img src:</h3>
<textarea id="imgsrc" onchange="final_replace(this)" onclick="this.select()" rows="10" style="font-family: ‘courier new’,monospace; height: 10em; width: 100%;border:1px;border-color:#ddd;border-style:solid"></textarea>
<br><button type="button" onclick="myFunction()">Get it</button><br><br>
<textarea id="finalresult" onclick="this.select()" readonly="readonly" rows="15" style="font-family: ‘courier new’,monospace; height: 10em; width: 100%;border:1px;border-color:#ddd;border-style:solid"></textarea>
